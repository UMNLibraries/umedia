require 'test_helper'

module Umedia
  class FullTranscriptTest < ActiveSupport::TestCase
    describe 'when no set has been specified' do
      let(:client) { Minitest::Mock.new }
      let(:client_obj) { Minitest::Mock.new }
      let(:solr) { Minitest::Mock.new }
      it 'gathers page transcripts' do
        client.expect :new, client_obj, []
        client_obj.expect :solr, solr, []
        response = {'response' => {'docs' => [{'id' => 'p16022coll95:33'}]}}
        solr.expect :paginate, response, [1, 6, "search", {:params=>{:q=>"*:*", :sort=>"id desc", :fl=>"*", :fq=>["record_type:primary", "!page_count:0"]}}]
        client_obj.expect :add, nil, [[{"id"=>"p16022coll95:33", "object"=>"https://cdm16022.contentdm.oclc.org/utils/getthumbnail/collection/p16022coll95/id/33", "set_spec"=>"p16022coll95", "collection_name"=>"Alice Taylor Davis Papers", "collection_description"=>"Alice Taylor Davis was known for her contributions to social work education and commitment improving social service. The Alice Taylor Davis papers reflect her career in social work education, consultation, and on the staff of the U.S. Department of Health Education and Welfare, Technical Training Division. They also relate to her work as co-director of the Study of Social Work Education, which culminated in the report, Social Work Education in the United States (1952) and was a factor in the formation of the Council on Social Work Education. [Finding Aid available at: https://archives.lib.umn.edu/repositories/11/resources/5909]", "super_collection_names"=>["African American Archival Materials"], "super_collection_set_specs"=>["p16022coll433"], "super_collection_descriptions"=>["Highlighting the impact of African Americans in every aspect of American life, as represented across all of the University Libraries' collections."], "title"=>"Higher Education. Desegregating the Washington Branch of the American Association of University Women. (Box 6, Folder 18).", "title_search"=>"Higher Education. Desegregating the Washington Branch of the American Association of University Women. (Box 6, Folder 18).", "title_sort"=>"highereducationdesegregatingthewashingtonbranchoftheamericanassociationofuniversitywomenbox6folder18", "description"=>"This folder contains materials created/collected by Alice Taylor Davis, who was known for her contributions to social work education and commitment improving social service. The materials reflect her career in social work education, consultation, and on the staff of the U.S. Department of Health Education and Welfare, Technical Training Division. This folder specifically contains Taylor Davis' records relating to the desegregation of a women's academic organization.", "creator"=>["Davis, Alice Taylor, 1903-"], "creator_sort"=>"davisalicetaylor1903", "notes"=>"Forms part of the African American Digital Collections: Digitizing African American Archival Materials Across Collections project.", "types"=>["Mixed Material"], "subject"=>["Davis, Alice Taylor, 1903 .", "Social Workers United States Training Of", "Social Work Education", "Desegregation", "Race Relations"], "language"=>["English"], "country"=>["United States"], "continent"=>["North America"], "parent_collection"=>"Alice Taylor Davis Papers (SW0143); http://archives.lib.umn.edu/repositories/11/resources/5909", "parent_collection_name"=>"Alice Taylor Davis Papers (SW0143)", "contributing_organization"=>"University of Minnesota Libraries, Social Welfare History Archives.", "contributing_organization_name"=>"University of Minnesota Libraries, Social Welfare History Archives.", "contact_information"=>"University of Minnesota Libraries, Social Welfare History Archives. 320 Elmer L. Andersen Library, 222 - 21st Avenue South, Minneapolis, MN 55455;  https://www.lib.umn.edu/swha", "fiscal_sponsor"=>"Funded through the Council on Library and Information Resources' Cataloging Hidden Special Collections and Archives program, with support from the Andrew W. Mellon Foundation.", "dls_identifier"=>["sw0143-box06-fdr18"], "local_rights"=>"Use of this item may be governed by US and international copyright laws. You may be able to use this item, but copyright and other considerations may apply. For possible additional information or guidance on your use, please contact the contributing organization.", "page_count"=>4, "record_type"=>"primary", "first_viewer_type"=>"image", "viewer_type"=>"COMPOUND_PARENT_NO_VIEWER", "attachment"=>"34.cpd", "document_type"=>"item", "featured_collection_order"=>999, "date_added"=>"2019-02-26T00:00:00Z", "date_added_sort"=>"2019-02-26T00:00:00Z", "transcription"=>"October 29, 194&  To the members of the University Women's Club, Washington Branch, American Association of University Women:  You have received a referendum ballot on the question whether colored women qualified as national members shall be admitted to membership in the Washington Branch.  The undersigned, representing a number of members of the Branch, believes that you will be interested in having further information about the application which has brought up this question and about the provisions of the By-laws regarding membership.  It should be clearly understood that legally, no qualified applicant can be excluded from membership under the- By-laws as they stand. The present ballot, therefore, should be regarded as advisory only,  I -am informed that the matter will be discussed at the regular business meeting of the Branch on Monday, November4, at 7 p.m.  I am confident that, as American university women, you will base your decision on principles of justice and democracy.  Mrs. Clarence F. Swift, Sponsor of Mrs. Terrell October 24, 194& Facta about Mrs. Mary Church Terrell's Application for  Membership in the Washington Branch, A.A.U.W. (Prepared by Mrs. Clarence F. Swift)  Mrs. Mary Church Terrell, a graduate of Oberlin College with a distinguished record of public service (see page 3), is a member of the national American Association of University Women. She was a member of the Washington Branch in the early 1900's, but dropped out because of pressure of other activities. In recent years, however, she has on numerous occasions been the guest of members at the clubhouse.  On October 8, 1946, Mrs. Terrell applied, at the office, for reinstatement in the Branch, and paid a years dues. Her former membership was vouched for by one of the oldest and most respected members of the Branch and has since been confirmed by others, although records for that period have not yet been found. Mrs. Terrell's sponsor is Mrs.  Clarence F. Swift, 1020 19th Street, N.W.; Mrs* Swift is also an Oberlin graduate, a close friend of Mrs. Terrell since college days, a member of the national A.A.U.W. since 1884 and of the Washington Branch since 1939.  i  On October 9 the president of the Branch, Mrs. G. R. Wilhelm, called a meeting of the Executive Committee (the nine elected officers) to consider Mrs'. Terrell's application. The Committee is empowered to act between the meetings of the Board of Directors, which consists of the elected officers plus the chairmen of standing committees. Eight members of the Committee were present, and voted unanimously (the president not voting) to reject the application. They notified Mrs. Terrell and returned her money. Mrs. Wilhelm also informed Mrs. Swift. No reason was given for the action.  On October 11, Mrs. Swift, as Mrs. Terrell's sponsor, wrote to each member of the Board of Directors inquiring the basis for the rejection by the Executive Committee and appealing for consideration of the question by the Board.  On October 14 the Board held its regular monthly meeting. Of the twenty-one members, sixteen were present, and all but one (the president not voting) voted to uphold the action of the Executive Committee. Again no reason was given.  The By-laws contain no provision for any review of applications for membership. See page 2 for information regarding membership requirements and other pertinent matters.  A number of members have written to the president of the Branch wrote sting the rejection of the application, and asking that it be reconsidered by the Board. -2-  SUPPLMENTARY INFORMATION Washington Branch  From the By-laws of the Washington Branch, A.A.U.W.:  Article II, Objects:  The objects of the Washington Branch arc:  1. The development of an organization c-.f Washington women eligible to membership in the American Association of University Women which shall work  for the promotion of local educational and community interests.  2. Cooperation with the national Association in carrying out its  national and international program and in the operation of the national club-  house.  3. The objects of the American Association of University Women, i.e.: the uniting of the Alumnae of different institutions for practical educational work; the collection and. publication of statistical and other information concerning education; and, in general, the maintenance of high standards of education.  Article III, Membership:  1. Eligibility to Branch membership, whether national or associate, is determined according to the by-laws of the national Association.  2. Suspension or expulsion from Branch membership is within the powers of the Board of Directors.  3. Classes of Membership:  a. National members. Women who present satisfactory credentials for national membership, and pay the required initiation fee and dues, are admitted as national members of the Branch upon recommendation of one Branch member. Such national members have full privileges both within the Branch arid in the national Association.  (The rest of this Article concerns other classes of membership, and privileges of non-members.)  National A. A. [ I. W.  The only requirement for membership in the national American Association of University Women is an approved degree from an A.A.U.W.-approved institution.  The approved rating of the Association of American Universities is a requisite for approval by the A.A.U.W., which has in addition special standards pertaining to women and to the general education content of degrees.  None of the colored colleges or universities has yet been approved by the A.A.U.W.  The national Association has many colored members. Many branches have colored members.  The Clubhouse  The national clubhouse is owned by the national Association and operated jointly by it and the Washington Branch. MRS. MARY CHURCH TERRELL  A.B., Oberlin College, 188/+; A.M., Oberlin, 1888. Studied in Europe, 1888-1890. LL.D., Wilberforce University (Ohio), 1946.  One of the first two women of any race to be appointed to the Board of Education, District of Columbia; served eleven years.  This appointment made her the first colored woman in the world to serve on a board of education.  Active in the movement for woman suffrage.  Organized and was first president of the National Association of Colored Women. Was appointed honorary president for life.  Has represented colored women in three international conferences, at all of which she made addresses: International con-  gress of Women, Berlin, 1904 (made addresses in German and French); International Congress of Women for Permanent Peace, Zurich, 1919; World Fellowship of Faiths, London, 1937*  Was secretary of the Race Relations Committee, Washington Federation of Churches; Treasurer, Interracial Committee, under chairmanship of Dr. Charles Edward Russell.  Charter member of the National Association for the Advancement of Colored People.  Named as one of the \"\"one hundred most famous alumni\"\" of Oberlin College at its one hundredth anniversary, 1933*  Received a citation for social service at the Women's Centennial Congress, New York, November 1940.  Author, \"\"A Colored Woman in a White World\"\" (published 1940), with preface by H. G. Wells.  (See also \"\"Who's Who in America.\"\")"}]]

        IndexTranscripts.new(rows: 6, solr_client: client).index!
        client.verify
        client_obj.verify
        solr.verify
      end
    end
  end
end
